**Игровой бот.**

**Участники.**

Выполняют студенты ИТМО факультета ПИиКТ направления Нейротехнологии и программирование Тырышкин Андрей Львович и Рева Денис Геннадиевич из группы P3120.

**Краткое описание.**

Программа представляет собой бота в telegram. Управление ботом будет осуществляться с помощью команд, отправленных в чат. Они разделены на 4 подругруппы: основные, развлекательные, игровые, клановые. Основные - реализация профиля игрока и отображение различных его параметров. Игры - реализация одиночных и многопользовательских игр. Развлечения - реализация развлекательной деятельности. Кланы - реализация системы кланов - групп игроков - и их менеджмент. Бот создаётся в развлекательных целях. Далее будет описана каждая планируемая команда, её суть.

**Список команд бота.**

Команды [номер] - показывает список команд из раздела: основные, развлекательные, игровые, клановые.

Репорт [текст] - сообщение администрации.

Профиль - выводит никнейм пользователя, статус пользователя, его деньги, деньги, положенные в банк и его имущество.

Ник - выводит никнейм пользователя.
Ник [текст] - меняет никнейм на текст.

Баланс - выводит деньги пользователя, его деньги в банке, колчество его blincoin и платиновых монет.
Банк - выводит информацию о деньгах в банке и о процентах с них.
Банк положить [сумма] - требует после себя сумму и кладёт деньги в банк. Постоянно начисляет по ним проценты.
Банк снять [сумма] - требует после себя сумму и снимает деньги из банка.

Передать [ник] [сумма] [комментарий] - принимает после себя ник пользователя, сумму и комментарий и пересылает ему деньги.

Работа - даёт информацию о работе пользователя.
Работа [номер] - позволяет устроиться на работу из предложенного списка.
Работы - выводит список доступных работ.
Бизнес - выводит информацию о бизнесе игрока.

Купить бизнес [название] - команда для покупки бизнеса. Для работы необходим товар.
Оплатить налоги - снимает со счёта бизнеса 13% в качестве налога.
Собрать прибыль - снимает со счёта бизнеса деньги и передаёт игроку.
Бизнес [название] товар [количество] - позволяет купить товар благодря котрому бизнес будет функционировать.

Топ - показывает первые места по богатству, по кланам и по мафии.

Бонус - позволяет получить поощрение раз в 24 часа.

Магазин - открывает окно магазина. Дома - выводит список доступных к покупке домов. Самолёты - аналогично. Машины - аналогично. Яхты - аналогично. [вид имущества] [номер] - покупка имущества (носит лишь декоративный характер и является отражением богатства игрока). Blincoin купить [количество] - покупка blincoin. Blincoin продать [количество] - продать blincoin. Кейсы - выводит список кейсов. Кейс [номер] - покупка кейса. Купить патроны [номер] [количество] - покупка определённого вида патронов.

Мафия - отправляет пользователя в беседу, где моделируется игра в мафию.

Перестрелка - игра, где, с помощью оружия, получаемого из кейсов можно, потратив патроны командой - Бах -, выстрелить в случайного игрока. С каждым попадаем игрок становится успешнее и попадает лучше. Так же чем лучше оружие, тем чаще игрок попадает. За убийство начисляется рейтинг, а за смерть самого игрока сбрасывается.

Ставка - случайно увеличивает или уменьшает на коэффициент выбранную часть денег пользователя.

Лотерея - отнимает 1000 единиц валюты и добавляет случайное количество.

Вики [слово] - принимает после себя слово и ищет статью по нему в википедии.

Шар - выводит предсказания в виде оценочных фраз.

Шанс - выводит вероятность придуманного игроком события.

Свадьба [никнейм] - требует указания пользователя, оформляет брак двух игроков.

Развод [никнейм] - оформляет развод двух людей.

Погода [город] - требует ввод города после команды и показывает полную информацию о погоде на данный момент.

Дата - выводит число и время на данный момент.

Беседы - переводит игрока в окно бесед, где он он может присоединиться и пообщаться с другими игроками.

Курс - открывает окно курса валют. Позволяет следить за реальными курсами валют на данный момент и за курсом blincoin.

Клан - выводит информацию о клане. Чтобы в нём состоять необходимо или получить приглашение или создать свой клан за игровую валюту.

Клан создать [название] - создаёт клан.

Клан переименовать [название]  - принимает после себя слово и присваивает клану название.

Клан участники - выводит список участников.

Клан пригласить [ник] - принимает id игрока и отправляет ему заявку на вступление в клан.

Клан повысить [ник] - принимает id игрока и повышает его ранг в клане.
Клан понизить [ник] - принимает id игрока и понижает его ранг в клане.

Клан зарплата [сумма] - принимает после себя сумму, которая делится на всех участников и из казны клана передаётся им.

Клан пополнить [сумма] - пополняет казну клана на введённую после сумму.

Клан бизнес - открывает окно покупки бизнеса по номеру (аналогично бизнес), но оперирует не счётом игрока, а казной.

Клан возможности - открывает окно способностей клана, приобретаемых за деньги.

Клан выгнать [ник] - принимает id игрока и исключает его из клана.

Клан покинуть - выход из клана, в котором состоит игрок.

Если будет введена неизвестная боту команда - он выведет сообщение <Такой команды нет.>

**Описание механик игры.**

Чтобы лучше понять систему основные механики будут описаны далее.

В первую очередь в игре присутствует персонаж за которого играет человек. Персонаж имеет некоторое количество денег, которое в конечном счёте создаёт иерархическое разделение игроков по уровню успешности. Деньги можно зарабатывать, устраиваясь на работы, спекулируя на бирже, имея бизнес и играя в казино/покупая лотерею. Чем больше персонаж находится на какой-то работе, тем выше его "квалификация", что позволяет устраиваться на более хорошую работу и соответственно больше зарабатывать. Работа приносит зарплату с течением времени. Также игрокам будут предложены мини-игры которые будут кратно увеличивать количество зарплаты. За деньги можно покупать бизнес, создавать кланы, покупать орижие для перестрелки, вкладываться в банк и участвовать в лотерее или играть в казино. Деньги в банке постоянно увеличиваются на процент. Blincoin - это трейдинговая система в игре, курс будет меняться, позволяя заработать на разнице купли продажи. Платиновые монеты - особая валюта которая стоит очень много основных единиц валюты и позволяет покупать особые варианты имущества и т.д. Её нельзя класть в банк или каким либо образом увеличивать кроме собственно покупки. Она может быть куплена за реальные деньги. Количество бизнесов, имущества, денег, место в перестрелке, рейтинг клана составляют топ - иерархию, добавляющую желание играть.

Игры - активный вариант развлечения в боте, возможность повысить свой рейтинг, заработать денег. 

Развлечения также активный вариант досуга, дающий объективную или субъективную (шанс, шар) информацию, а также содержащий меню перехода в беседы - коммуникационную часть игры.

Система кланов - социальный аспект, позволяющий объединяться в группы. Клан имеет общую казну и систему рангов, разделяющую полномочия. В клане существует система выплат зарплаты. Казна может быть пополнена с денег участников, но это не имело бы смысла, так как деньги бы не увеличивались. Казна пополняется в конце каждой недели на сумму денег, составленную из рейтинга клана, а его рейтинг при этом сбрасывается. 1 рейтинг начисляется за 1 убийство в перестрелке или начисляется 2 рейтинга игрокам с vip статусом или 3 рейтинга игрокам с premium статусом. Всего доступно 3 позиции в клане - глава, соруководитель, участник. Главу нельзя исключить или понизить. По умолчанию создатель клана является главой, но он может передать это полномочие. Имеет полные права и коэффициент при подсчёте рейтинга х3. Только он может выдавать зарплату. Соруководитель может повышать или понижать, но не до главы. Им также доступны исключения из клана и внесение денег в казну, но не выдача зарплат. Участник не может повышать, понижать, изгонять, вносить в казну, но может получать зарплату и участвовать в борьбе за рейтинг.

Игрок имеет статус пользователь, vip или premium. Последние два работают по системе подписки за реальные деньги, они дают серьёзное преимущество при расчёте рейтинга и зарабатывании денег и является одним из видов монетизации бота. Кроме того платные статусы позволяют покупать vip кейсы. Также в premium статусе каждый день будет начисляться некоторое количество платиновых монет.

**Техническая справка.**

Бот реализован на языке python версии 3.9. При написании будут использоваться следующие библиотеки и фреймворки: telebot, sqlite3, datetime, python_weather, pycbrf, stripe.

Также будет реализована система внутриигровых покупок через Bot Payments API.
